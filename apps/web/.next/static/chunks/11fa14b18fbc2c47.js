(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,75110,e=>{"use strict";var t=e.i(43476);e.i(50711);var r=e.i(82045);e.i(90798);var s=e.i(88218),n=e.i(1737),i=e.i(14001),a=e.i(3697);function o(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function d(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new a.ConvexError(e.message);throw t.data=(0,s.jsonToConvex)(e.data),t}throw Error(e.message)}return JSON.parse(r)}e.i(2082);var l=e.i(39197);function u(e,t,r,s){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${s}\` to \`${r}\``)}var c=Object.defineProperty,h=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?c(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r};class m{constructor(){h(this,"_isExpression"),h(this,"_value")}}var v=Object.defineProperty;class y extends m{constructor(e){super(),((e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?v(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r})(this,"inner"),this.inner=e}serialize(){return this.inner}}function p(e){return e instanceof y?e.serialize():{$literal:(0,s.convexOrUndefinedToJson)(e)}}let x={eq:(e,t)=>new y({$eq:[p(e),p(t)]}),neq:(e,t)=>new y({$neq:[p(e),p(t)]}),lt:(e,t)=>new y({$lt:[p(e),p(t)]}),lte:(e,t)=>new y({$lte:[p(e),p(t)]}),gt:(e,t)=>new y({$gt:[p(e),p(t)]}),gte:(e,t)=>new y({$gte:[p(e),p(t)]}),add:(e,t)=>new y({$add:[p(e),p(t)]}),sub:(e,t)=>new y({$sub:[p(e),p(t)]}),mul:(e,t)=>new y({$mul:[p(e),p(t)]}),div:(e,t)=>new y({$div:[p(e),p(t)]}),mod:(e,t)=>new y({$mod:[p(e),p(t)]}),neg:e=>new y({$neg:p(e)}),and:(...e)=>new y({$and:e.map(p)}),or:(...e)=>new y({$or:e.map(p)}),not:e=>new y({$not:p(e)}),field:e=>new y({$field:e})};var f=Object.defineProperty,b=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?f(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r};function g(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class w{constructor(e){b(this,"state"),b(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:e},"FullTableScan"===e.source.type?this.tableNameForErrorMessages=e.source.tableName:this.tableNameForErrorMessages=e.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&g(this.state.type);let{queryId:e}=o("1.0/queryStream",{query:this.state.query,version:i.version});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&o("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){u(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new w(t)}filter(e){u(e,1,"filter","predicate");let t=this.takeQuery();if(t.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return t.operators.push({filter:p(e(x))}),new w(t)}limit(e){u(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new w(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&g(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await d("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,s.jsonToConvex)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(u(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,n=e.cursor,a=e?.endCursor??null,o=e.maximumRowsRead??null,{page:l,isDone:c,continueCursor:h,splitCursor:m,pageStatus:v}=await d("1.0/queryPage",{query:t,cursor:n,endCursor:a,pageSize:r,maximumRowsRead:o,maximumBytesRead:e.maximumBytesRead,version:i.version});return{page:l.map(e=>(0,s.jsonToConvex)(e)),isDone:c,continueCursor:h,splitCursor:m,pageStatus:v}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){u(e,1,"take","n");if(!Number.isInteger(e)||e<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${e[0]._id}, ${e[1]._id}, ...]`);return e[0]}}n.v.object({numItems:n.v.number(),cursor:n.v.union(n.v.string(),n.v.null()),endCursor:n.v.optional(n.v.union(n.v.string(),n.v.null())),id:n.v.optional(n.v.number()),maximumRowsRead:n.v.optional(n.v.number()),maximumBytesRead:n.v.optional(n.v.number())});var I=e.i(62849),j=Object.defineProperty,N=Object.defineProperty,C=(e,t,r)=>{let s;return(s="symbol"!=typeof t?t+"":t)in e?N(e,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[s]=r};class ${constructor(e){C(this,"indexes"),C(this,"stagedDbIndexes"),C(this,"searchIndexes"),C(this,"stagedSearchIndexes"),C(this,"vectorIndexes"),C(this,"stagedVectorIndexes"),C(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=e}" indexes"(){return this.indexes}index(e,t){return Array.isArray(t)?this.indexes.push({indexDescriptor:e,fields:t}):t.staged?this.stagedDbIndexes.push({indexDescriptor:e,fields:t.fields}):this.indexes.push({indexDescriptor:e,fields:t.fields}),this}searchIndex(e,t){return t.staged?this.stagedSearchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}):this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return t.staged?this.stagedVectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){let e=this.validator.json;if("object"!=typeof e)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:e}}}function q(e){return new $((0,n.isValidator)(e)?e:n.v.object(e))}new class e{constructor(e,t){C(this,"tables"),C(this,"strictTableNameTypes"),C(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,stagedDbIndexes:s,searchIndexes:n,stagedSearchIndexes:i,vectorIndexes:a,stagedVectorIndexes:o,documentType:d}=t.export();return{tableName:e,indexes:r,stagedDbIndexes:s,searchIndexes:n,stagedSearchIndexes:i,vectorIndexes:a,stagedVectorIndexes:o,documentType:d}}),schemaValidation:this.schemaValidation})}}({_scheduled_functions:q({name:n.v.string(),args:n.v.array(n.v.any()),scheduledTime:n.v.float64(),completedTime:n.v.optional(n.v.float64()),state:n.v.union(n.v.object({kind:n.v.literal("pending")}),n.v.object({kind:n.v.literal("inProgress")}),n.v.object({kind:n.v.literal("success")}),n.v.object({kind:n.v.literal("failed"),error:n.v.string()}),n.v.object({kind:n.v.literal("canceled")}))}),_storage:q({sha256:n.v.string(),size:n.v.float64(),contentType:n.v.optional(n.v.string())})},void 0);let T=I.anyApi;function F(){let e=(0,r.useQuery)(T.tunnels.getMyTunnels)??[];return(0,t.jsx)("div",{className:"min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-12",children:[(0,t.jsx)("h1",{className:"text-2xl font-semibold text-foreground mb-6",children:"My Tunnels"}),(0,t.jsxs)("div",{className:"space-y-3",children:[0===e.length&&(0,t.jsx)("div",{className:"rounded-lg border border-border bg-card p-4 text-sm text-muted-foreground",children:"No tunnels yet. Start one from the CLI or create a subdomain."}),e.map(e=>(0,t.jsxs)("div",{className:"rounded-lg border border-border bg-card p-4",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[e.subdomain,".beam.byronwade.com"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",e.status]})]})}),(0,t.jsx)("pre",{className:"mt-3 rounded bg-muted p-3 text-xs text-muted-foreground overflow-auto",children:JSON.stringify(e.config,null,2)})]},e._id))]})]})})}I.anyApi,function e(t,r){return new Proxy({},{get(s,n){if("string"==typeof n)return e(t,[...r,n]);if(n===l.toReferencePath){if(r.length<1){let e=[t,...r].join(".");throw Error(`API path is expected to be of the form \`${t}.childComponent.functionName\`. Found: \`${e}\``)}return"_reference/childComponent/"+r.join("/")}}})}("components",[]),e.s(["default",()=>F],75110)}]);