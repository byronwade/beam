(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,97085,43531,74886,e=>{"use strict";var t=e.i(43476),s=e.i(71645),i=e.i(75254);let a=(0,i.default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>a],43531);let r=(0,i.default)("copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);e.s(["Copy",()=>r],74886);var l=e.i(68054);let n=(0,i.default)("file-code",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]]),c=(0,i.default)("file-braces",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]]),o=(0,i.default)("file-text",[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);var d=e.i(63059);let h={bash:{label:"Terminal",icon:l.Terminal,accent:"green"},javascript:{label:"JavaScript",icon:n,accent:"yellow"},typescript:{label:"TypeScript",icon:n,accent:"blue"},json:{label:"JSON",icon:c,accent:"orange"},python:{label:"Python",icon:n,accent:"cyan"},ruby:{label:"Ruby",icon:n,accent:"red"},text:{label:"Plain Text",icon:o,accent:"white"},output:{label:"Output",icon:l.Terminal,accent:"purple"}};function x({code:e,language:i="bash",filename:l,showLineNumbers:n=!1,title:c,copyable:o=!0}){let[d,x]=(0,s.useState)(!1),m=h[i]||h.text,p=m.icon,u=e.split("\n"),b=n||u.length>5,j=async()=>{try{await navigator.clipboard.writeText("bash"===i?e.split("\n").map(e=>e.trim().startsWith("$ ")?e.replace(/^\s*\$\s*/,""):e.trim().startsWith("# ")?"":e).filter(Boolean).join("\n"):e),x(!0),setTimeout(()=>x(!1),2e3)}catch(e){console.error("Failed to copy:",e)}},g=e.split("\n").map((e,s)=>{if("output"===i||"text"===i)return(0,t.jsx)("span",{className:"text-white/70",children:e},s);if("bash"===i){if(e.trim().startsWith("#"))return(0,t.jsx)("span",{className:"text-white/40 italic",children:e},s);if(e.trim().startsWith("$")){let[i,...a]=e.split(" ");return(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-violet-400",children:i}),(0,t.jsxs)("span",{className:"text-emerald-400",children:[" ",a.join(" ")]})]},s)}let i=e.split(" "),a=i[0],r=i.slice(1).join(" "),l=r.split(/(\s+)/).map((e,s)=>e.startsWith("--")||e.startsWith("-")?(0,t.jsx)("span",{className:"text-cyan-400",children:e},s):e.startsWith("http://")||e.startsWith("https://")||e.includes(".onion")?(0,t.jsx)("span",{className:"text-blue-400 underline decoration-blue-400/30",children:e},s):(0,t.jsx)("span",{className:"text-emerald-400",children:e},s));return(0,t.jsxs)("span",{children:[(0,t.jsx)("span",{className:"text-amber-400",children:a}),r&&(0,t.jsx)("span",{children:" "}),l]},s)}if("javascript"===i||"typescript"===i){let i;if(e.trim().startsWith("//"))return(0,t.jsx)("span",{className:"text-white/40 italic",children:e},s);let a=[],r=0,l=RegExp("\\b(const|let|var|function|return|if|else|import|export|from|require|async|await|class|extends|new|this|try|catch|throw|typeof|instanceof)\\b","g"),n=/(['"`])((?:\\.|(?!\1)[^\\])*)\1/g,c=/\b(\d+)\b/g,o=[];for(n.lastIndex=0;null!==(i=n.exec(e));)o.push({type:"string",start:i.index,end:i.index+i[0].length,value:i[0]});for(l.lastIndex=0;null!==(i=l.exec(e));)o.some(e=>i.index>=e.start&&i.index<e.end)||o.push({type:"keyword",start:i.index,end:i.index+i[0].length,value:i[0]});for(c.lastIndex=0;null!==(i=c.exec(e));){let e=o.some(e=>i.index>=e.start&&i.index<e.end),t=o.some(e=>"keyword"===e.type&&i.index>=e.start&&i.index<e.end);e||t||o.push({type:"number",start:i.index,end:i.index+i[0].length,value:i[0]})}o.sort((e,t)=>e.start-t.start);let d=0;return o.forEach(s=>{s.start>d&&a.push((0,t.jsx)("span",{className:"text-white/80",children:e.slice(d,s.start)},`text-${r++}`)),"string"===s.type?a.push((0,t.jsx)("span",{className:"text-emerald-400",children:s.value},`str-${r++}`)):"keyword"===s.type?a.push((0,t.jsx)("span",{className:"text-violet-400",children:s.value},`kw-${r++}`)):"number"===s.type&&a.push((0,t.jsx)("span",{className:"text-amber-400",children:s.value},`num-${r++}`)),d=s.end}),d<e.length&&a.push((0,t.jsx)("span",{className:"text-white/80",children:e.slice(d)},`end-${r++}`)),(0,t.jsx)("span",{children:a.length>0?a:(0,t.jsx)("span",{className:"text-white/80",children:e})},s)}if("json"===i){let i,a=[],r=0,l=/"([^"]+)":/g,n=/:\s*"([^"]*)"/g,c=[];for(l.lastIndex=0;null!==(i=l.exec(e));)c.push({type:"key",start:i.index,end:i.index+i[0].length-1,value:`"${i[1]}"`});for(n.lastIndex=0;null!==(i=n.exec(e));){let t=e.indexOf(`"${i[1]}"`,i.index+1);-1!==t&&c.push({type:"string",start:t,end:t+i[1].length+2,value:`"${i[1]}"`})}c.sort((e,t)=>e.start-t.start);let o=0;return c.forEach(s=>{s.start>o&&a.push((0,t.jsx)("span",{className:"text-white/60",children:e.slice(o,s.start)},`t-${r++}`)),"key"===s.type?a.push((0,t.jsx)("span",{className:"text-cyan-400",children:s.value},`k-${r++}`)):"string"===s.type&&a.push((0,t.jsx)("span",{className:"text-emerald-400",children:s.value},`s-${r++}`)),o=s.end}),o<e.length&&a.push((0,t.jsx)("span",{className:"text-white/60",children:e.slice(o)},`e-${r++}`)),(0,t.jsx)("span",{children:a.length>0?a:(0,t.jsx)("span",{className:"text-white/60",children:e})},s)}if("python"===i){if(e.trim().startsWith("#"))return(0,t.jsx)("span",{className:"text-white/40 italic",children:e},s);let i=e;["def","class","import","from","return","if","elif","else","for","while","try","except","with","as","lambda","yield","async","await","True","False","None"].forEach(e=>{let t=RegExp(`\\b${e}\\b`,"g");i=i.replace(t,`__KW_${e}__`)});let a=[];return i.split(/(__KW_\w+__)/).forEach((e,s)=>{if(e.startsWith("__KW_")&&e.endsWith("__")){let i=e.slice(5,-2);a.push((0,t.jsx)("span",{className:"text-violet-400",children:i},s))}else a.push((0,t.jsx)("span",{className:"text-white/80",children:e},s))}),(0,t.jsx)("span",{children:a},s)}return(0,t.jsx)("span",{className:"text-emerald-400",children:e},s)});return(0,t.jsxs)("div",{className:"group relative rounded-xl overflow-hidden bg-[#0a0a0a] my-4",children:[(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl bg-gradient-to-r from-red-500/20 via-yellow-500/20 via-green-500/20 via-blue-500/20 to-violet-500/20 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,t.jsx)("div",{className:"absolute inset-[1px] rounded-xl bg-[#0a0a0a]"}),(0,t.jsx)("div",{className:"absolute inset-0 rounded-xl border border-white/10 group-hover:border-white/20 transition-colors"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 right-0 h-[2px] bg-gradient-to-r from-red-500 via-yellow-500 via-green-500 via-blue-500 to-violet-500 opacity-60"}),(0,t.jsxs)("div",{className:"flex items-center justify-between px-3 py-2 bg-white/[0.02]",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p,{className:"w-3.5 h-3.5 text-white/40"}),(0,t.jsx)("span",{className:"text-xs text-white/50",children:l||c||m.label})]}),o&&(0,t.jsx)("button",{onClick:j,className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-white/40 hover:text-white hover:bg-white/10 transition-all","aria-label":d?"Copied":"Copy to clipboard",children:d?(0,t.jsx)(a,{className:"w-3 h-3 text-emerald-400"}):(0,t.jsx)(r,{className:"w-3 h-3"})})]})]}),(0,t.jsx)("div",{className:"relative overflow-x-auto",children:(0,t.jsx)("pre",{className:"p-4 text-sm font-mono leading-relaxed",children:b?(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"select-none pr-4 text-right border-r border-white/5 mr-4",children:u.map((e,s)=>(0,t.jsx)("div",{className:"text-white/20 text-xs leading-relaxed tabular-nums",children:s+1},s))}),(0,t.jsx)("div",{className:"flex-1 min-w-0",children:g.map((e,s)=>(0,t.jsx)("div",{className:"leading-relaxed hover:bg-white/[0.02] -mx-2 px-2 rounded",children:e},s))})]}):(0,t.jsx)("div",{children:g.map((e,s)=>(0,t.jsx)("div",{className:"leading-relaxed",children:e},s))})})})]})]})}function m({children:e}){return(0,t.jsx)("code",{className:"relative px-1.5 py-0.5 rounded-md bg-white/5 text-white/90 text-sm font-mono border border-white/10 hover:border-white/20 transition-colors",children:e})}function p({children:e}){let[i,l]=(0,s.useState)(!1),n=async()=>{try{await navigator.clipboard.writeText(e),l(!0),setTimeout(()=>l(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return(0,t.jsxs)("div",{onClick:n,className:"group inline-flex items-center gap-2 px-3 py-1.5 rounded-lg bg-[#0a0a0a] border border-white/10 hover:border-white/20 cursor-pointer transition-all",children:[(0,t.jsx)(d.ChevronRight,{className:"w-3.5 h-3.5 text-violet-400"}),(0,t.jsx)("code",{className:"text-sm font-mono text-emerald-400",children:e}),(0,t.jsx)("span",{className:"text-white/30 text-xs group-hover:text-white/50 transition-colors",children:i?(0,t.jsx)(a,{className:"w-3.5 h-3.5 text-emerald-400"}):(0,t.jsx)(r,{className:"w-3.5 h-3.5"})})]})}e.s(["CodeBlock",()=>x,"Command",()=>p,"InlineCode",()=>m],97085)},32958,e=>{"use strict";var t=e.i(43476),s=e.i(22016),i=e.i(97085);function a(){return(0,t.jsxs)("article",{className:"mx-auto max-w-4xl px-6 py-12",children:[(0,t.jsxs)("header",{className:"mb-12",children:[(0,t.jsx)("h1",{className:"text-4xl font-bold text-white mb-4",children:"P2P Networking"}),(0,t.jsx)("p",{className:"text-lg text-white/70 leading-relaxed",children:"Beam's P2P networking layer enables decentralized service discovery and intelligent routing without relying on central servers. This architecture provides censorship resistance, improved reliability, and eliminates single points of failure."}),(0,t.jsx)("p",{className:"text-white/50 text-sm mt-4",children:"Note: The P2P networking layer is in active development. Core Tor functionality is available today, while the full decentralized mesh network is being built."})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Network Architecture"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"The P2P network forms a self-organizing mesh where peers can discover and connect to services without any central coordination. Each peer maintains connections to multiple other peers, creating redundant paths for communication."}),(0,t.jsxs)("div",{className:"bg-[#0d0d0d] border border-white/10 rounded-lg p-6 mb-6",children:[(0,t.jsx)("h3",{className:"text-center text-white/60 text-sm font-medium mb-6",children:"P2P Network Topology"}),(0,t.jsxs)("div",{className:"flex items-center justify-center gap-2 mb-6 flex-wrap",children:[(0,t.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/20 to-blue-600/10 border border-blue-500/30 rounded-lg p-3 text-center min-w-[90px]",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Peer A"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Service)"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center mx-1",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-r from-blue-500/50 to-purple-500/50"}),(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] border-l-purple-500/50"})]}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-r-[5px] border-r-blue-500/50"}),(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-l from-blue-500/50 to-purple-500/50"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-purple-500/20 to-purple-600/10 border border-purple-500/30 rounded-lg p-3 text-center min-w-[90px]",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Peer B"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Relay)"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center mx-1",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-r from-purple-500/50 to-green-500/50"}),(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] border-l-green-500/50"})]}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-r-[5px] border-r-purple-500/50"}),(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-l from-purple-500/50 to-green-500/50"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-green-500/20 to-green-600/10 border border-green-500/30 rounded-lg p-3 text-center min-w-[90px]",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Peer C"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Gateway)"})]}),(0,t.jsxs)("div",{className:"flex flex-col items-center mx-1",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-r from-green-500/50 to-orange-500/50"}),(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-l-[5px] border-l-orange-500/50"})]}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)("div",{className:"w-0 h-0 border-t-[4px] border-t-transparent border-b-[4px] border-b-transparent border-r-[5px] border-r-green-500/50"}),(0,t.jsx)("div",{className:"w-6 h-0.5 bg-gradient-to-l from-green-500/50 to-orange-500/50"})]})]}),(0,t.jsxs)("div",{className:"bg-gradient-to-br from-orange-500/20 to-orange-600/10 border border-orange-500/30 rounded-lg p-3 text-center min-w-[90px]",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Peer D"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Client)"})]})]}),(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-0.5 h-8 bg-gradient-to-b from-white/30 to-cyan-500/50"}),(0,t.jsx)("div",{className:"w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-cyan-500/50"})]})}),(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-cyan-500/20 to-cyan-600/10 border border-cyan-500/30 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Kademlia DHT"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Discovery)"})]})}),(0,t.jsx)("div",{className:"flex justify-center mb-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-0.5 h-6 bg-gradient-to-b from-cyan-500/50 to-yellow-500/50"}),(0,t.jsx)("div",{className:"w-0 h-0 border-l-[5px] border-l-transparent border-r-[5px] border-r-transparent border-t-[6px] border-t-yellow-500/50"})]})}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsxs)("div",{className:"bg-gradient-to-br from-yellow-500/20 to-yellow-600/10 border border-yellow-500/30 rounded-lg p-4 text-center",children:[(0,t.jsx)("div",{className:"text-white font-medium text-sm",children:"Gossip Protocol"}),(0,t.jsx)("div",{className:"text-white/50 text-xs",children:"(Propagation)"})]})})]}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Key properties of this architecture:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"No single point of failure"})," — services remain accessible even if some peers go offline"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Self-healing topology"})," — the network automatically routes around failures"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Censorship resistant"})," — no central authority can block services"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Horizontal scaling"})," — capacity increases as more peers join"]})]})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Kademlia DHT"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Kademlia is a peer-to-peer distributed hash table (DHT) that Beam uses for service discovery. It's the same algorithm used by BitTorrent, IPFS, and Ethereum for decentralized data storage and retrieval."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"How Kademlia Works"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:'Each node in the network has a unique 256-bit identifier. When you want to find a service, Kademlia calculates the "distance" between node IDs using XOR (exclusive or). Nodes that are "closer" to a service\'s key are more likely to know about it.'}),(0,t.jsx)(i.CodeBlock,{code:`// XOR Distance Calculation
distance(node_a, node_b) = node_a.id XOR node_b.id

// Example: Finding service "myapp.local"
1. Hash "myapp.local" to get a 256-bit key
2. Query nodes closest to that key
3. Each node returns even closer nodes
4. Repeat until service record is found

// Lookup complexity: O(log n)
// For a network of 1 million peers, ~20 hops max`,language:"javascript",showLineNumbers:!0}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Service Records"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"When a service registers with the DHT, it stores a record containing connection information. This record is replicated across multiple nodes for redundancy."}),(0,t.jsx)(i.CodeBlock,{code:`ServiceRecord {
  service_id: "myapp.local",
  peer_id: "QmYjtig7VJQ6XsnUjqqJvj7QaMcCAwtrgNdahSiFoSdGKj",
  endpoints: [
    "/ip4/192.168.1.100/tcp/8080",
    "/ip6/::1/tcp/8080"
  ],
  metadata: {
    version: "1.0",
    protocol: "http",
    capabilities: ["websocket", "http2"]
  },
  ttl: 3600,        // Record expires in 1 hour
  signature: "0x..."  // Proves ownership
}`,language:"json",showLineNumbers:!0}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"K-Buckets"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:'Each node maintains a routing table organized into "k-buckets" — groups of peer contacts sorted by XOR distance. When looking up a service, the node queries peers from the appropriate bucket, progressively narrowing down to the target.'}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Bucket 0 contains peers with distance 0-1 (closest)"}),(0,t.jsx)("li",{children:"Bucket 1 contains peers with distance 2-3"}),(0,t.jsx)("li",{children:"Bucket n contains peers with distance 2^n to 2^(n+1) - 1"}),(0,t.jsx)("li",{children:"Each bucket holds up to k peers (typically k=20)"})]})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Gossip Protocol"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"While Kademlia handles service discovery, the gossip protocol handles real-time propagation of announcements. When a service comes online or changes, the information spreads through the network like a rumor."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Message Types"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4 mb-6",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(i.InlineCode,{children:"ANNOUNCE"})," — new service available"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(i.InlineCode,{children:"DEPARTURE"})," — service going offline"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(i.InlineCode,{children:"HEARTBEAT"})," — peer liveness check"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(i.InlineCode,{children:"ROUTE_UPDATE"})," — routing table changes"]})]}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Propagation"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:'Each peer forwards messages to a random subset of its neighbors (the "fanout"). With a fanout of 6, a message reaches all 1000 peers in approximately 4 rounds.'}),(0,t.jsx)(i.CodeBlock,{code:`Round 1: Origin sends to 6 peers
Round 2: 6 peers \xd7 6 = 36 peers reached
Round 3: 36 \xd7 6 = 216 peers reached
Round 4: 216 \xd7 6 = 1,296 peers reached

// Propagation time: O(log n)
// With deduplication to prevent message floods`,language:"text"}),(0,t.jsx)("p",{className:"text-white/70",children:"Messages include a TTL (time-to-live) that decrements with each hop, preventing infinite propagation loops. Peers track recently seen message IDs to avoid processing duplicates."})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Intelligent Routing"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Beam's routing system continuously monitors network conditions and selects optimal paths based on multiple quality metrics. This enables automatic failover and load balancing."}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Quality Metrics"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Routes are scored based on:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4 mb-6",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Latency (40%)"})," — round-trip time to the destination"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Bandwidth (30%)"})," — available throughput capacity"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Reliability (20%)"})," — historical success rate"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Congestion (10%)"})," — current load level"]})]}),(0,t.jsx)(i.CodeBlock,{code:`// Route scoring formula
score = (latency_score \xd7 0.4) +
        (bandwidth_score \xd7 0.3) +
        (reliability_score \xd7 0.2) -
        (congestion_penalty \xd7 0.1)

// Routes are re-evaluated every 30 seconds
// Traffic shifts automatically to better paths`,language:"javascript"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Multi-Path Routing"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"When available, Beam can split traffic across multiple paths simultaneously. This provides:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Automatic failover when one path fails"}),(0,t.jsx)("li",{children:"Load balancing across available routes"}),(0,t.jsx)("li",{children:"Increased aggregate bandwidth"}),(0,t.jsx)("li",{children:"Reduced dependency on any single path"})]})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Peer Discovery"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"New peers join the network through several discovery mechanisms:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4 mb-6",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Bootstrap nodes"})," — well-known entry points for initial connection"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"mDNS"})," — local network discovery without internet access"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"DHT queries"})," — find peers with specific capabilities"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Peer exchange"})," — learn about peers from existing connections"]})]}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"NAT Traversal"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Many peers are behind NAT (Network Address Translation), which makes direct connections challenging. Beam uses several techniques to establish connections:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4 mb-6",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"STUN"})," — discovers your public IP and port mapping, enabling direct connections when both peers have compatible NAT types"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"Hole punching"}),' — coordinated connection attempts that "punch" through NAT by having both peers send packets simultaneously']}),(0,t.jsxs)("li",{children:[(0,t.jsx)("strong",{className:"text-white/90",children:"TURN relay"})," — fallback to relay servers when direct connection is impossible (e.g., symmetric NAT)"]})]}),(0,t.jsx)("p",{className:"text-white/70",children:"Beam attempts direct connection first, falling back to relay only when necessary. Relay nodes are other Beam peers that volunteer to forward traffic."})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Connection Management"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"Each peer maintains a target number of connections (default: 25-50). The connection manager continuously optimizes the peer set:"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-white/70 ml-4 mb-6",children:[(0,t.jsx)("li",{children:"Prioritizes geographically diverse peers for resilience"}),(0,t.jsx)("li",{children:"Replaces low-quality connections opportunistically"}),(0,t.jsx)("li",{children:"Handles churn with automatic reconnection"}),(0,t.jsx)("li",{children:"Monitors connection health with periodic heartbeats"})]}),(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-3",children:"Connection Lifecycle"}),(0,t.jsx)(i.CodeBlock,{code:`1. Discovery    → Find peer via DHT, mDNS, or gossip
2. Handshake    → Exchange capabilities and authenticate
3. Connection   → Establish encrypted channel
4. Monitoring   → Periodic health checks (every 30s)
5. Optimization → Replace if better peer available
6. Graceful close or timeout → Clean disconnection`,language:"text"}),(0,t.jsx)("p",{className:"text-white/70",children:"Failed connections are retried with exponential backoff. After repeated failures, peers are temporarily blacklisted to avoid wasting resources."})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Performance Targets"}),(0,t.jsx)("p",{className:"text-white/70 mb-6",children:"The P2P layer is designed to meet these performance goals:"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Discovery Performance"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Service discovery: <2 seconds"}),(0,t.jsx)("li",{children:"Service registration: <500ms"}),(0,t.jsx)("li",{children:"Network join time: <10 seconds"}),(0,t.jsx)("li",{children:"Discovery success rate: >98%"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Routing Performance"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Route calculation: <100ms"}),(0,t.jsx)("li",{children:"Failover time: <5 seconds"}),(0,t.jsx)("li",{children:"Additional routing latency: <50ms"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white mb-2",children:"Scalability"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Maximum network size: 1M+ peers"}),(0,t.jsx)("li",{children:"Connections per peer: 25-50"}),(0,t.jsx)("li",{children:"DHT replication factor: 20"}),(0,t.jsx)("li",{children:"Gossip fanout: 6"})]})]})]})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Development Status"}),(0,t.jsx)("p",{className:"text-white/70 mb-4",children:"The P2P networking layer is being developed in phases:"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white/90 mb-2",children:"Phase 1: Core Discovery (Completed)"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/70 ml-4",children:[(0,t.jsx)("li",{children:"Basic Kademlia DHT implementation"}),(0,t.jsx)("li",{children:"Service registration and lookup"}),(0,t.jsx)("li",{children:"Bootstrap node connectivity"}),(0,t.jsx)("li",{children:"Local mDNS discovery"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white/90 mb-2",children:"Phase 2: Routing System (In Progress)"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/60 ml-4",children:[(0,t.jsx)("li",{children:"Quality-aware path selection"}),(0,t.jsx)("li",{children:"Real-time metrics collection"}),(0,t.jsx)("li",{children:"Multi-path routing"}),(0,t.jsx)("li",{children:"Automatic failover"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-white/90 mb-2",children:"Phase 3: Advanced Features (Planned)"}),(0,t.jsxs)("ul",{className:"list-disc list-inside space-y-1 text-white/50 ml-4",children:[(0,t.jsx)("li",{children:"ML-based route prediction"}),(0,t.jsx)("li",{children:"Bandwidth reservation"}),(0,t.jsx)("li",{children:"Adaptive load balancing"}),(0,t.jsx)("li",{children:"Network analytics dashboard"})]})]})]})]}),(0,t.jsxs)("section",{className:"mb-12",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4",children:"Related Documentation"}),(0,t.jsxs)("ul",{className:"space-y-3 text-white/70",children:[(0,t.jsxs)("li",{children:[(0,t.jsx)(s.default,{href:"/docs/architecture",className:"text-white underline hover:text-white/80",children:"Architecture"})," ","— see how P2P fits into the overall system design"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(s.default,{href:"/docs/tor-network",className:"text-white underline hover:text-white/80",children:"Tor Network"})," ","— current tunneling implementation using Tor"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(s.default,{href:"/docs/security",className:"text-white underline hover:text-white/80",children:"Security"})," ","— P2P security considerations and threat model"]}),(0,t.jsxs)("li",{children:[(0,t.jsx)(s.default,{href:"/docs/why-decentralized",className:"text-white underline hover:text-white/80",children:"Why Decentralized?"})," ","— benefits of the P2P architecture approach"]})]})]}),(0,t.jsx)("footer",{className:"pt-8 border-t border-white/10",children:(0,t.jsxs)("p",{className:"text-white/50 text-sm",children:["The P2P networking layer is under active development. For the latest updates, follow the project on"," ",(0,t.jsx)("a",{href:"https://github.com/byronwade/beam",className:"text-white/70 underline hover:text-white",target:"_blank",rel:"noopener noreferrer",children:"GitHub"}),"."]})})]})}e.s(["default",()=>a])}]);