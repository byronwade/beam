module.exports=[8456,a=>{"use strict";var b=a.i(87924);a.i(11241);var c=a.i(96373);a.i(21338);var d=a.i(59230),e=a.i(99692),f=a.i(50527),g=a.i(95487);function h(a,b){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(a,JSON.stringify(b)))}async function i(a,b){let c;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{c=await Convex.asyncSyscall(a,JSON.stringify(b))}catch(a){if(void 0!==a.data){let b=new g.ConvexError(a.message);throw b.data=(0,d.jsonToConvex)(a.data),b}throw Error(a.message)}return JSON.parse(c)}a.i(10092);var j=a.i(4939);function k(a,b,c,d){if(void 0===a)throw TypeError(`Must provide arg ${b} \`${d}\` to \`${c}\``)}var l=Object.defineProperty,m=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?l(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class n{constructor(){m(this,"_isExpression"),m(this,"_value")}}var o=Object.defineProperty;class p extends n{constructor(a){super(),((a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?o(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c})(this,"inner"),this.inner=a}serialize(){return this.inner}}function q(a){return a instanceof p?a.serialize():{$literal:(0,d.convexOrUndefinedToJson)(a)}}let r={eq:(a,b)=>new p({$eq:[q(a),q(b)]}),neq:(a,b)=>new p({$neq:[q(a),q(b)]}),lt:(a,b)=>new p({$lt:[q(a),q(b)]}),lte:(a,b)=>new p({$lte:[q(a),q(b)]}),gt:(a,b)=>new p({$gt:[q(a),q(b)]}),gte:(a,b)=>new p({$gte:[q(a),q(b)]}),add:(a,b)=>new p({$add:[q(a),q(b)]}),sub:(a,b)=>new p({$sub:[q(a),q(b)]}),mul:(a,b)=>new p({$mul:[q(a),q(b)]}),div:(a,b)=>new p({$div:[q(a),q(b)]}),mod:(a,b)=>new p({$mod:[q(a),q(b)]}),neg:a=>new p({$neg:q(a)}),and:(...a)=>new p({$and:a.map(q)}),or:(...a)=>new p({$or:a.map(q)}),not:a=>new p({$not:q(a)}),field:a=>new p({$field:a})};var s=Object.defineProperty,t=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?s(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};function u(a){throw Error("consumed"===a?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}class v{constructor(a){t(this,"state"),t(this,"tableNameForErrorMessages"),this.state={type:"preparing",query:a},"FullTableScan"===a.source.type?this.tableNameForErrorMessages=a.source.tableName:this.tableNameForErrorMessages=a.source.indexName.split(".")[0]}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let a=this.state.query;return this.state={type:"closed"},a}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&u(this.state.type);let{queryId:a}=h("1.0/queryStream",{query:this.state.query,version:f.version});return this.state={type:"executing",queryId:a},a}closeQuery(){"executing"===this.state.type&&h("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(a){k(a,1,"order","order");let b=this.takeQuery();if("Search"===b.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==b.source.order)throw Error("Queries may only specify order at most once");return b.source.order=a,new v(b)}filter(a){k(a,1,"filter","predicate");let b=this.takeQuery();if(b.operators.length>=256)throw Error("Can't construct query with more than 256 operators");return b.operators.push({filter:q(a(r))}),new v(b)}limit(a){k(a,1,"limit","n");let b=this.takeQuery();return b.operators.push({limit:a}),new v(b)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&u(this.state.type);let a="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:b,done:c}=await i("1.0/queryStreamNext",{queryId:a});return c&&this.closeQuery(),{value:(0,d.jsonToConvex)(b),done:c}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(a){if(k(a,1,"paginate","options"),"number"!=typeof a?.numItems||a.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${a?.numItems}\`.`);let b=this.takeQuery(),c=a.numItems,e=a.cursor,g=a?.endCursor??null,h=a.maximumRowsRead??null,{page:j,isDone:l,continueCursor:m,splitCursor:n,pageStatus:o}=await i("1.0/queryPage",{query:b,cursor:e,endCursor:g,pageSize:c,maximumRowsRead:h,maximumBytesRead:a.maximumBytesRead,version:f.version});return{page:j.map(a=>(0,d.jsonToConvex)(a)),isDone:l,continueCursor:m,splitCursor:n,pageStatus:o}}async collect(){let a=[];for await(let b of this)a.push(b);return a}async take(a){k(a,1,"take","n");if(!Number.isInteger(a)||a<0)throw TypeError("Arg 1 `n` to `take` must be a non-negative integer");return this.limit(a).collect()}async first(){let a=await this.take(1);return 0===a.length?null:a[0]}async unique(){let a=await this.take(2);if(0===a.length)return null;if(2===a.length)throw Error(`unique() query returned more than one result from table ${this.tableNameForErrorMessages}:
 [${a[0]._id}, ${a[1]._id}, ...]`);return a[0]}}e.v.object({numItems:e.v.number(),cursor:e.v.union(e.v.string(),e.v.null()),endCursor:e.v.optional(e.v.union(e.v.string(),e.v.null())),id:e.v.optional(e.v.number()),maximumRowsRead:e.v.optional(e.v.number()),maximumBytesRead:e.v.optional(e.v.number())});var w=a.i(54662),x=Object.defineProperty,y=Object.defineProperty,z=(a,b,c)=>{let d;return(d="symbol"!=typeof b?b+"":b)in a?y(a,d,{enumerable:!0,configurable:!0,writable:!0,value:c}):a[d]=c};class A{constructor(a){z(this,"indexes"),z(this,"stagedDbIndexes"),z(this,"searchIndexes"),z(this,"stagedSearchIndexes"),z(this,"vectorIndexes"),z(this,"stagedVectorIndexes"),z(this,"validator"),this.indexes=[],this.stagedDbIndexes=[],this.searchIndexes=[],this.stagedSearchIndexes=[],this.vectorIndexes=[],this.stagedVectorIndexes=[],this.validator=a}" indexes"(){return this.indexes}index(a,b){return Array.isArray(b)?this.indexes.push({indexDescriptor:a,fields:b}):b.staged?this.stagedDbIndexes.push({indexDescriptor:a,fields:b.fields}):this.indexes.push({indexDescriptor:a,fields:b.fields}),this}searchIndex(a,b){return b.staged?this.stagedSearchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}):this.searchIndexes.push({indexDescriptor:a,searchField:b.searchField,filterFields:b.filterFields||[]}),this}vectorIndex(a,b){return b.staged?this.stagedVectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}):this.vectorIndexes.push({indexDescriptor:a,vectorField:b.vectorField,dimensions:b.dimensions,filterFields:b.filterFields||[]}),this}self(){return this}export(){let a=this.validator.json;if("object"!=typeof a)throw Error("Invalid validator: please make sure that the parameter of `defineTable` is valid (see https://docs.convex.dev/database/schemas)");return{indexes:this.indexes,stagedDbIndexes:this.stagedDbIndexes,searchIndexes:this.searchIndexes,stagedSearchIndexes:this.stagedSearchIndexes,vectorIndexes:this.vectorIndexes,stagedVectorIndexes:this.stagedVectorIndexes,documentType:a}}}function B(a){return new A((0,e.isValidator)(a)?a:e.v.object(a))}new class a{constructor(a,b){z(this,"tables"),z(this,"strictTableNameTypes"),z(this,"schemaValidation"),this.tables=a,this.schemaValidation=b?.schemaValidation===void 0||b.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([a,b])=>{let{indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}=b.export();return{tableName:a,indexes:c,stagedDbIndexes:d,searchIndexes:e,stagedSearchIndexes:f,vectorIndexes:g,stagedVectorIndexes:h,documentType:i}}),schemaValidation:this.schemaValidation})}}({_scheduled_functions:B({name:e.v.string(),args:e.v.array(e.v.any()),scheduledTime:e.v.float64(),completedTime:e.v.optional(e.v.float64()),state:e.v.union(e.v.object({kind:e.v.literal("pending")}),e.v.object({kind:e.v.literal("inProgress")}),e.v.object({kind:e.v.literal("success")}),e.v.object({kind:e.v.literal("failed"),error:e.v.string()}),e.v.object({kind:e.v.literal("canceled")}))}),_storage:B({sha256:e.v.string(),size:e.v.float64(),contentType:e.v.optional(e.v.string())})},void 0);let C=w.anyApi;function D(){let a=(0,c.useQuery)(C.tunnels.getMyTunnels)??[];return(0,b.jsx)("div",{className:"min-h-screen bg-background",children:(0,b.jsxs)("div",{className:"mx-auto max-w-3xl px-4 py-12",children:[(0,b.jsx)("h1",{className:"text-2xl font-semibold text-foreground mb-6",children:"My Tunnels"}),(0,b.jsxs)("div",{className:"space-y-3",children:[0===a.length&&(0,b.jsx)("div",{className:"rounded-lg border border-border bg-card p-4 text-sm text-muted-foreground",children:"No tunnels yet. Start one from the CLI or create a subdomain."}),a.map(a=>(0,b.jsxs)("div",{className:"rounded-lg border border-border bg-card p-4",children:[(0,b.jsx)("div",{className:"flex items-center justify-between",children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-foreground",children:[a.subdomain,".beam.byronwade.com"]}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Status: ",a.status]})]})}),(0,b.jsx)("pre",{className:"mt-3 rounded bg-muted p-3 text-xs text-muted-foreground overflow-auto",children:JSON.stringify(a.config,null,2)})]},a._id))]})]})})}w.anyApi,function a(b,c){return new Proxy({},{get(d,e){if("string"==typeof e)return a(b,[...c,e]);if(e===j.toReferencePath){if(c.length<1){let a=[b,...c].join(".");throw Error(`API path is expected to be of the form \`${b}.childComponent.functionName\`. Found: \`${a}\``)}return"_reference/childComponent/"+c.join("/")}}})}("components",[]),a.s(["default",()=>D],8456)}];

//# sourceMappingURL=apps_web_src_app_%28dashboard%29_dashboard_page_tsx_df0db0bb._.js.map