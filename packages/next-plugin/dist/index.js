var c=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var p=Object.prototype.hasOwnProperty;var f=(n,e)=>{for(var o in e)c(n,o,{get:e[o],enumerable:!0})},d=(n,e,o,a)=>{if(e&&typeof e=="object"||typeof e=="function")for(let t of m(e))!p.call(n,t)&&t!==o&&c(n,t,{get:()=>e[t],enumerable:!(a=u(e,t))||a.enumerable});return n};var I=n=>d(c({},"__esModule",{value:!0}),n);var B={};f(B,{withBeam:()=>b});module.exports=I(B);var l=require("@byronwade/beam");function b(n={},e={}){return{...n,webpack:(o,a)=>{if(a.dev&&a.isServer){let{enabled:t=!0,silent:s=!1,port:r=3e3}=e;t&&!process.env.BEAM_INITIALIZED&&(process.env.BEAM_INITIALIZED="true",g(r,s))}return typeof n.webpack=="function"?n.webpack(o,a):o}}}async function g(n,e){let o=new l.TunnelManager;try{e||console.log("  \u279C  Beam:    Initializing tunnel..."),(await o.start({targetPort:n,mode:"balanced"})).stdout?.on("data",s=>{let r=s.toString();(r.includes("onion")||r.includes(".local"))&&!e&&r.split(`
`).filter(i=>i.trim()!=="").forEach(i=>{console.log(`  \u279C  Beam:    ${i.trim()}`)})});let t=()=>{o.stop()};process.on("SIGINT",t),process.on("SIGTERM",t),process.on("exit",t)}catch(a){e||console.error("  \u279C  Beam:    Failed to start tunnel:",a.message)}}0&&(module.exports={withBeam});
